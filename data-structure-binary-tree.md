### 二叉树（Binary Tree）

![Jh8nf3](https://gitee.com/Liuccccc/oss/raw/master/2021/06/29/Jh8nf3.png)

#### 一、二叉树的特点

- 每个节点的`度`最大为`2`（最多拥有`2`颗子树）
- `左子树` 和 `右子树` 有顺序的，例如所有的左子树小于右子树
- 即使某节点只有一棵子树，也要区分左右子树
- 非空二叉树的第`i`层，最多有`2^(i-1)`个节点(i >= 1)
- 高度为`h`的二叉树最多有`2^h - 1`个节点(h >= 1)
- 对于任意一颗`非空二叉树`，如果`叶子节点(度为0的节点，即没有子节点的节点)`个数为`n0`，`度`为`2`的节点个数为`n2`，则有：`n0 = n2 + 1`
  - 假设度为1 的节点个数为n1，那么二叉树的总节点n = n0 + n1 + n2
  - 二叉树的边数T = n1 + 2 * n2 = n - 1 = n0 + n1 + n2 - 1
    - 这是因为n1的每个节点下有1个子节点，所以边是n1，n2的每一个节点都有2个子节点所以是n2 * 2
    - 反过来看，因为所有的节点上面都有一条边，只有根节点上没有边，所以T = n1 + 2 * n2 = n - 1 = n0 + n1 + n2 - 1
    - 所以 n1 + 2 * n2 = n0 + n1 + n2 - 1 可以推出 n0 = n2 + 1
  - 验证一下
    - 下面的左图，叶子节点为`60,4,49,56,96`，个数n0 = 5，度为2的节点`57,38,66,54` ，个数n2 = 4，n0 = n2 + 1 = 4 + 1 = 5
    - 下面的右图，叶子节点为`8,9,10,11,12,13,14,15`，个数n0 = 8，度为2的节点`1,2,3,4,5,6,7` ，个数n2 = 7，n0 = n2 + 1 = 7 + 1 = 8

![6EUzr6](https://gitee.com/Liuccccc/oss/raw/master/2021/06/29/6EUzr6.png)

#### 二、二叉树的分类

##### 1、真二叉树（Proper Binary Tree）

>  所有节点的`度`要么为`0`,要么为`2`

![C0q1ek](https://gitee.com/Liuccccc/oss/raw/master/2021/06/29/C0q1ek.png)

下图不是真二叉树

![ErYRiK](https://gitee.com/Liuccccc/oss/raw/master/2021/06/29/ErYRiK.png)

##### 2、满二叉树（Full Binary Tree）

> 最后一层节点的度都为`0`，其余节点的度都为`2`

![xPrcmA](https://gitee.com/Liuccccc/oss/raw/master/2021/06/29/xPrcmA.png)

- 在同样高度的二叉树中，满二叉树的叶子节点数量最多、总节点数量最多
- 满二叉树 一定是 真二叉树，真二叉树 不一定是 满二叉树
- 假设满二叉树的高度为`h(h >= 1)`，那么
  - 第`i`层的`节点数量`：`2^(i-1)`
  - `叶子节点`数量：`2^(h-1)`
  - `总节点`数量n
    - n = 2^h - 1 = 2^0 + 2^1 + 2^2 + ... + 2^(h-1)
    - h = log2(n+1)

##### 3、完全二叉树（Complete Binary Tree）

> 叶子节点只会出现在最后`2`层，最后`1`层的`叶子节点`都`靠左对齐`

![u72GHo](https://gitee.com/Liuccccc/oss/raw/master/2021/06/29/u72GHo.png)

- 完全二叉树从`根节点`至`倒数第2层`是一棵`满二叉树`
- 满二叉树`一定`是完全二叉树，完全二叉树`不一定`是满二叉树

- 度为`1`的节点只有左子树

- 度为`1`的节点要么是`1`个，要么是`0`个

- 同样节点数量的二叉树，完全二叉树的高度最小

- 假设完全二叉树的高度为`h(h >= 1)`，那么

  - 至少有`2^(h - 1)`个节点（ 2^0 + 2^1 + 2^2 +  ...  + 2^(h - 2) + 1）

  - 最多有`2^h - 1`个节点（ 2^0 + 2^1 + 2^2 + ... + 2^(h - 1),  满二叉树）

  - 总节点数量为 n

    - 2^(h - 1) <= n < 2^h

    - h - 1 <= log2(n) < h

    - h = floor(log2n) + 1

      > floor是向下取整，ceiling是向上取整

- 一个有`n`个节点的完整二叉树(n > 0)，从上到下，从左到右对节点从`1`开始编号，对任意第`i`个节点

  - 如果`i = 1`，它是`根节点`

    如果`i > 1`，它的`父节点`编号为`floor(i/2)`

    如果`2i <= n`，它的`左`子节点编号为`2i`

    如果`2i > n`，它`无左`子点

    如果`2i + 1 <= n`，他的右子节点编号为`2i + 1`

    如果`2i + 1 > n`，它`无右`子节点

- 一个有`n`个节点的完整二叉树(n > 0), 从上到下，从左到右对节点从`0`开始编号, 对任意第`i`个节点

  - 如果`i = 0`，它是`根节点`。

    如果`i > 0`，它的`父节点`编号为`floor((i- 1)/2)`

    如果`2i + 1 <= n - 1`，它的左子节点编号为`2i + 1`

    如果`2i + 1 > n - 1`，它`无`左子点

    如果`2i + 2 <= n - 1`，他的右子节点编号为`2i + 2`

    如果`2i + 2 > n - 1`，它`无`右子节点

下图不是完全二叉树

![utOYth](https://gitee.com/Liuccccc/oss/raw/master/2021/06/29/utOYth.png)

因为节点E的右子树的节点为空，不符合完全二叉树的定义中的`最后1层的叶子节点都靠左对齐`，没有靠左排满

